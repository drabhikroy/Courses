---
title: "Measures of Central Tendency"
subtitle: "EDP 613"
author: "Week 3"
output: 
 xaringan::moon_reader:
   css: xaringan-themer.css
---

<style>

section {
    display: flex;
    display: -webkit-flex;
}

section p {
    margin: auto;
}

section {
    height: 600px;
    width: 60%;
    margin: auto;
    border-radius: 20px;
    background-color: #212121;
}

section p {
    text-align: center;
    font-size: 30px;
    background-color: #212121;
    border-radius: 20px;
    font-family: Roboto Condensed;
    font-style: bold;
    padding: 15px;
    color: #bff4ee;
}

</style>

```{r setup, include=FALSE, purl=FALSE}
library(tidyverse)
library(knitr)
library(kableExtra)
library(fontawesome)
library(here)
library(clt)
library(carData)
library(DT)
library(scales)
library(showtext)
font_add_google("Roboto Condensed", "roboto")
showtext_auto()
```

```{r echo = FALSE, purl=FALSE}
xaringanthemer::style_duo(
  primary_color = "#212121",
  secondary_color = "#bff4ee",
  table_row_border_color = "#212121",
  table_row_even_background_color = "#212121",
  footnote_font_size = "0.6em",
  header_font_google = xaringanthemer::google_font("Roboto Condensed", "700"),
  text_font_google   = xaringanthemer::google_font("Roboto Condensed", "400")
)
xaringanExtra::use_xaringan_extra(c("tile_view", "animate_css", "tachyons"))
```

```{r eval = TRUE, echo = FALSE}
unchecked <- as.character(fontawesome::fa("square", fill = "#b2d8d8"))

checked <- as.character(fontawesome::fa("check", fill = "#ffffff"))
```

# Basic Idea

The mean, median and mode are measures of central tendency and attempt to summarize the typical value of a variable.

---

# Why?

These may help us draw conclusions about a specific group or compare different groups using a single numerical value.

---

# Recall Distributions

```{r, echo=FALSE}
set.seed(999)
n <- 10000
normal <- rnorm(n)

draws <- list(
  `Skewed Left\n\nmean < median < mode`  = c(normal[normal < 0] * 3, normal),
  `Normal\n\nmean = median = mode` = normal,
  `Skewed Right\n\nmean > median > mode` = c(normal[normal > 0] * 2.7, normal))

random_data <- 
  tibble::tibble(
  example = factor(names(draws), 
                   levels = c("Skewed Left\n\nmean < median < mode",
                              "Normal\n\nmean = median = mode",
                              "Skewed Right\n\nmean > median > mode")), 
  values = draws
) %>%
  tidyr::unnest(values)

distribution_list <- 
  ggplot(random_data, 
         aes(x = values)) + 
  geom_histogram(
    aes(y = after_stat(density),
        fill = after_stat(density)), 
    bins = 20, 
    show.legend = FALSE
  ) +
  scale_fill_distiller(palette = "Spectral") +
  stat_function(fun = dnorm, 
                color = "#FFFFFF", 
                size = 1.5,
                alpha = 0.9) +
  theme_void(base_family = "roboto") +
  theme(plot.background = element_rect(fill = "#212121", 
                                       color = "#212121"),
        plot.title = element_text(hjust = 0.50,
                                  color = "#FFFFFF"))
```

```{r, echo=FALSE, fig.align='center', dpi=300, fig.height=4}
distribution_list + 
  facet_wrap("example",
             scales = "free_x",
             nrow = 3,
             strip.position="left") +
  theme(strip.text.y.left = element_text(angle = 0,
                                         hjust = 0.50,
                                         color = "#FFFFFF",
                                         size = 12))
```

---

# Measures of Central Tendency: The Mean

>- The *average* number. 

>- There are other types of means (e.g. geometric, harmonic, etc.) but we are only using the *arithmetic* mean.

--

>- Essentially the **balancing point** or center of mass of a distribution

--

>- Found by adding all data points and dividing by the number of data points

--

```{r eval = TRUE, echo = FALSE, fig.align='center', out.width="30%"}
knitr::include_graphics("img/mean balancing point.png")
```

---

# Measures of Central Tendency: The Median

>- The *middle* number

--

>- Essentially the **point that cuts a data set in half**

--

>- Found by ordering data points from least to greatest or greatest to least and locating the middle number - if there are two middle data points, they are averaged

--

```{r eval = TRUE, echo = FALSE, fig.align='center', out.width="30%"}
knitr::include_graphics("img/median balancing point.png")
```


---

# Measures of Central Tendency: The Mode

>- The *most frequent* number

--

>- Essentially the point that occurs the most
  
--

>- Found by determining the data point(s) that appear the most - if none exists, then there is no mode

--

```{r eval = TRUE, echo = FALSE, fig.align='center', out.width="30%"}
knitr::include_graphics("img/mode balancing point.png")
```

---

# Basic Procedure: The Mean

>- **Mean** 
  - Add the numbers up, divide by the total number of values in the set.
  - Denoted by $\overline{Y}$

--

## Example

Compute the mean for the following sample: $\{21.3, 31.4, 12.7, 41.6\}$

--
### Solution

\begin{aligned}
\overline{Y}&=\dfrac{21.3+31.4+12.7+41.6}{4}\\
&=\dfrac{107}{4}\\
&=26.75
\end{aligned}

---

## Give it a Try

Compute the mean for the following sample: $\{2, 5, 5, 7, 7, 8, 9\}$

--

### Solution

\begin{aligned}
\overline{Y}&=\dfrac{2+5+5+7+7+8+9}{6}\\\\
&=\dfrac{43}{7}\\\\
&\approx6.14
\end{aligned}

---

# Basic Procedure: The Median

>- **Median** 
  - Put the numbers in order from least to greatest or greatest to least and find the middle number. 
  - If there are two middle numbers, average them.

--

## Example

Compute the median for the following sample: $\{2, 5, 5, 7, 7\}$

---

### Solution

>- Since these data point are already in numerical order, we can use them as is without reordering.

--

>- $n=5$ which is an odd number so we can locate the median by $$\dfrac{n+1}{2}=\dfrac{5+1}{2}=\dfrac{6}{2}=3$$
telling us to look in the *third position* from either side of the list of numbers.

--

>- In $$\{2, 5, 5, 7, 7\}$$ the middle number is $5$ so that must be the median!

---

## Give it a Try

Compute the mean for the following sample: $\{21.3, 31.4, 12.7, 41.6\}$

--

### Solution

>- Since these data point are NOT already in numerical order, we must reorder them.

$$\{12.7, 21.3, 31.4, 41.6\}$$
--

>- $n=4$ which is an even number so we can locate the median by taking the mean of the the numbers in

---

  >+ $\dfrac{n}{2}=\dfrac{4}{2}=2$, or
the *second position*

--

  >+ $\dfrac{n}{2}+1=\dfrac{4}{2}+1=3$, or the *third position*
 
--

>- So the median is 

$$\dfrac{21.3+31.4}{2} = 26.35$$

---

# Basic Procedure: The Mode

>- **Mode** 
  - Find the number(s) that appear the most. 
  - If none exists, then there is no mode.

---

## Example

Compute the mode for the following sample: $\{2, 5, 5, 7, 7\}$

--

### Solution

>- 
```{r, echo=FALSE}
freq <- 
  tibble(
    data = c(2,5,7),
    
    frequency = c(1,2,2)
  )

```

```{r, echo=FALSE}
kbl(freq,
    col.names = c("Data point", "Frequency"), 
      "html", 
      escape = FALSE,
      align = 'cc') %>%
  kable_styling(full_width = FALSE)
```

--

>- The data points 5 and 7 repeat twice while 2 only appears once. 

--

>- The modes are 5 and 7. 

>- Known as *bimodal*. Three modes would be *trimodal* and so on.

---

## Give it a Try

Compute the mode for the following sample: $\{21.3, 31.4, 12.7, 41.6\}$

--

### Solution

>- No data point appears more than once points appear once.

>- Therefore there is no mode.

---

# Something to Think About

>- A statistic is **resistant** if its value is not affected by extreme values (large or small) in the data set.

>- Which of the measures of central tendency are resistant? 

---

## That's it. We will work more with R next week!
